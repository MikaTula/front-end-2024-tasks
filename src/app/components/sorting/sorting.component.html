<button [matMenuTriggerFor]="menu" mat-button>
    <div class="inner">
        <mat-icon *ngIf="!breakpointService.isXSmall()">{{ sortDir() === 'asc' ? 'arrow_upward' : 'arrow_downward' }}
        </mat-icon>
        <div class="ellipsis">{{ sort().sortBy | issueSortBy }}</div>
        <app-button-select-arrow *ngIf="!breakpointService.isXSmall()"></app-button-select-arrow>
    </div>
</button>

<mat-menu #menu="matMenu">
    @for (variant of sortVariants(); track variant) {
        <button mat-menu-item (click)="sortBy.set(variant)">
            <mat-icon>{{ sortBy() === variant ? 'check' : '' }}</mat-icon>
            {{ variant | issueSortBy }}
        </button>
    }
    <mat-divider></mat-divider>
    <button (click)="sortDir.set('asc')" mat-menu-item>
        <mat-icon>{{ sortDir() === 'asc' ? 'check' : '' }}</mat-icon>
        {{ ascLabel() }}
    </button>
    <button (click)="sortDir.set('desc')" mat-menu-item>
        <mat-icon>{{ sortDir() === 'desc' ? 'check' : '' }}</mat-icon>
        {{ descLabel() }}
    </button>
</mat-menu>
